<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>`static_gettext`: Extract translatable strings into message files</title>

    <link rel="stylesheet" type="text/css" href="/assets/reset-fonts.css">
    <link rel="stylesheet" type="text/css" href="/assets/core.css">
  </head>
  <body >
    <menu>
      <li><a href="/" rel="home">projects<span><span>@</span>mikewest</span></a></li>
    </menu>

        <h1><a href="/static_gettext" rel="home"><code>static_gettext</code></a><span class="offscreen">: </span>Localization for Static Documents</h1>
    <ul class="actions">
      <li><a href="http://github.com/mikewest/static_gettext/tarball/v0.9" class="cta">Download current version (v0.9)</a></li> 
      <li><a href="http://github.com/mikewest/static_gettext" class="cta">Source code on GitHub</a></li> 
    </ul>

    <h2>Extract translatable strings into message files</h2>

<p>After <a href="markup.html">marking up your document set</a>, use <code>static_gettext</code> to
extract the marked strings into message files for the project's target
languages:</p>

<pre><code>static_gettext.py --languages en_US,de_DE --make-messages
</code></pre>

<p>This command generates <code>locale/en_US/LC_MESSAGES/messages.po</code> and
<code>locale/de_DE/LC_MESSAGES/messages.po</code>, which, <a href="http://github.com/mikewest/static_gettext/tree/master/example/">in our example</a>,
both look like:</p>

<pre><code># SOME DESCRIPTIVE TITLE.
# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR &lt;EMAIL@ADDRESS&gt;, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2010-09-12 16:34+0200\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME &lt;EMAIL@ADDRESS&gt;\n"
"Language-Team: LANGUAGE &lt;LL@li.org&gt;\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: example/src/index.html:2
msgid "en"
msgstr ""

#: example/src/index.html:4
msgid "Hello, world!"
msgstr ""

#: example/src/index.html:7
msgid "This is a document!"
msgstr ""
</code></pre>

<p>Translation is a simple process of mapping <code>msgstr</code> values to <code>msgid</code> keys.
In the German localization, one such mapping would look like:</p>

<pre><code>#: example/src/index.html:4
msgid "Hello, world!"
msgstr "Hallo Welt!"
</code></pre>

<p>Longer strings can be written on one line, but are generally split across
multiple lines like this:</p>

<pre><code>#: example/src/index.html:4
msgid "Hello, world!"
msgstr ""
"Ein Hallo-Welt-Programm ist ein kleines Computerprogramm und soll auf "
"möglichst einfache Weise zeigen, welche Anweisungen oder Bestandteile "
"für ein vollständiges Programm in einer Programmiersprache benötigt "
"werden und somit einen ersten Einblick in die Syntax geben."
</code></pre>

<p>Special characters like linebreaks (or <code>"</code>) must be escaped in both the key
and value:</p>

<pre><code>#: example/src/index.html:4
msgid "Key"
msgstr "Line 1\nLine 2\nQuote: \"\nLine 4"
</code></pre>

<h2>Updating source documents</h2>

<p>The framework is clever enough to do some fuzzy matching of previously
translated strings when you update source documents.  Simply run
<code>static_gettext.py --languages en_US,de_DE --make-messages</code> again after making changes,
and the message files will be regenerated: new strings will be added,
deleted strings will be commented out, unchanged strings will be retained
as-is, and lightly modified strings will reuse the previous translation,
but be marked <code>fuzzy</code>.  Searching for those strings after regenerating
message files is always a good idea, simply to ensure that the translation
still makes sense.</p>

    
    <ul class="usage" role="navigation">
      <li><a href="./install.html">Installation</a></li>
      <li><a href="./markup.html">Marking translatable strings</a></li>
      <li><a href="./extraction.html">Message file generation</a></li>
      <li><a href="./build.html">Generating target-language localizations</a></li>
      <li><a href="./cli.html">Command line usage</a></li>
    </ul>
    <small>&copy;2010 <a href="http://mikewest.org/">Mike West</a>: Project source is <a href="http://github.com/mikewest/static_gettext/blob/master/LICENSE.markdown" rel="license">BSD licensed</a>, and <a href="http://github.com/mikewest/static_gettext">available on GitHub</a></small>

  </body>
</html>
