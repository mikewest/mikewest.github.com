<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>JSLint Utils</title>

    <link rel="stylesheet" type="text/css" href="/assets/reset-fonts.css">
    <link rel="stylesheet" type="text/css" href="/assets/core.css">
  </head>
  <body >
    <menu>
      <li><a href="/" rel="home">projects<span><span>@</span>mikewest</span></a></li>
    </menu>

    <h1><code>JSLint Utils</code> A collection of useful bash scripts</h1>

<ul class="actions">
  <li><a href="http://github.com/mikewest/jslint-utils/tarball/v1.0" class="cta">Download current version (v1.0)</a></li> 
  <li><a href="http://github.com/mikewest/jslint-utils" class="cta">Source code on GitHub</a></li> 
</ul>


<p>One of the few tools that I consider truly indispensable when developing
websites is <a href="http://jslint.com/">JSLint</a>.  I love it.  It makes my life as a webdev simpler
and less prone to idiotic mistakes.  Hitting the website to check changes
to my scripts is, however, a huge pain in the ass.  Hence, this project.</p>

<p><code>JSLint Utils</code> is a set of utility scripts that wrap JSLint/Rhino,
enabling linting on the command line, and automated reporting of
linting errors via a continuous integration system like Hudson.</p>

<h2>Usage: CLI</h2>

<p>With <a href="http://www.mozilla.org/rhino/download.html">Rhino installed</a>, you can lint a specific JavaScript file
or stylesheet from the command line by running:</p>

<pre><code>run-jslint.sh [FILE TO LINT]
</code></pre>

<p>If the file is clean, the script will output on <code>stdout</code>:</p>

<pre><code>jslint: No problems found in good.js
</code></pre>

<p>If not, you'll get a list of errors on <code>stderr</code>, and an return code
of 1:</p>

<pre><code>[error.js] Lint at line 1 character 1: 'x' is not defined.
x = "is not defined";
</code></pre>

<h2>Usage: Hudson</h2>

<p>Integration with CI systems like Hudson generally takes place via <code>make</code>
files and XML dumps.  In short, you'll write a <code>make</code> file that lints
all the files you care about, and dumps the results in a specific XML
format into a directory.  Hudson reads through the test results in that
directory, and generates reports based on success or failure.</p>

<p>Before generating any test results, you'll need to specify the basename
to be used for the reporting.  It makes good sense to follow the JUnit
methodology here by using a reversed domain name as your package name.</p>

<p>Edit line 12 of <code>jslint-to-xml.sh</code> to specify your basename:</p>

<pre><code>TEST_BASENAME="org.mikewest.static"
</code></pre>

<p>With that configuration out of the way, you can generate an XML report
manually by running:</p>

<pre><code>jslint-to-xml.sh [FILE TO LINT] [REPORT DIRECTORY]
</code></pre>

<p>The file specified as the script's first argument will be linted, and a
report will be generated in the directory specified as the second argument.</p>

<p>Running against multiple files at once is generally best done via <code>find</code>.
Take a look at <a href="http://github.com/mikewest/jslint-utils/blob/master/Makefile">the project's =Makefile=</a> for how I'd suggest that
best be done.</p>

<h2>Questions?  Bugs?</h2>

<p>If anything's unclear, <a href="http://github.com/mikewest/jslint-utils/issues">file a bug via GitHub</a>, <a href="mailto:mike@mikewest.org">drop me an email</a>,
or comment here:</p>

<div id="disqus_thread"></div>


<script type="text/javascript">
  /**
    * var disqus_identifier; [Optional but recommended: Define a unique identifier (e.g. post id or slug) for this thread] 
    */
  var disqus_identifier = "jslintutils",
      disqus_developer  = 1,
      disqus_skip_auth  = true;
  (function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = 'http://projectsmikewestorg.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<p><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=projectsmikewestorg">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a></p>

  </body>
</html>
